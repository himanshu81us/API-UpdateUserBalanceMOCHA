<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:3,&quot;tests&quot;:8,&quot;passes&quot;:8,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2023-05-02T10:20:49.573Z&quot;,&quot;end&quot;:&quot;2023-05-02T10:20:54.851Z&quot;,&quot;duration&quot;:5278,&quot;testsRegistered&quot;:8,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;0a00fd84-3421-4ffa-895a-1ed5b352eaf4&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;00f13e9f-3e82-46b1-a149-bfffcd87fdcc&quot;,&quot;title&quot;:&quot;LOGIN/SETPLATFROM/REG CHATNAME/GET BALANCE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\himanshu.patel\\OneDrive - Playtech\\Desktop\\DataBase\\test\\UpdateUserBalance.js&quot;,&quot;file&quot;:&quot;\\test\\UpdateUserBalance.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;setplatform-wh&quot;,&quot;fullTitle&quot;:&quot;LOGIN/SETPLATFROM/REG CHATNAME/GET BALANCE setplatform-wh&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:190,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var res =await pactum.spec()\n  // .post (process.env.WH_SetPlatform_BaseUrl)\n  .post (&#x27;https://auto-williamhill.virtuefusion.com/igames/unsec/mob/gamerequest?cid=&#x27;)\n   .withBody(`\n          &lt;Request&gt;\n               \n                &lt;SetPlatform type  = &#x27;DESKTOP&#x27;/&gt;\n          &lt;/Request&gt;\n          `)\n  .withHeaders(&#x27;Content-Type&#x27; , &#x27;application/xml&#x27;)\n  .withHeaders(&#x27;accept&#x27;, &#x27;*/*&#x27;)\n  //.expectBody()\n  .expectStatus(200)\n  .expectBodyContains(&#x27;SetPlatform success=\\\&quot;true\\\&quot;/&#x27;)\n  Cookie = res.headers[&#x27;set-cookie&#x27;]\n  console.log(Cookie)\n  console.log(res.statusCode)\n  console.log(res.body)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9aeed0bb-9a13-42b7-ad11-3f05fc7d3bdd&quot;,&quot;parentUUID&quot;:&quot;00f13e9f-3e82-46b1-a149-bfffcd87fdcc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Login -WH&quot;,&quot;fullTitle&quot;:&quot;LOGIN/SETPLATFROM/REG CHATNAME/GET BALANCE Login -WH&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var response = await pactum.spec()\n.post(&#x27;https://auto-williamhill.virtuefusion.com/igames/sec/mob/gamerequest?cid=&#x27;)\n     // .post(process.env.WH_BaseUrl)\n.withBody(`\n&lt;Request&gt;\n&lt;Login&gt; \n&lt;Username&gt;${user}&lt;/Username&gt; \n&lt;Password&gt;userxvxcvx1&lt;/Password&gt; \n&lt;/Login&gt;\n&lt;/Request&gt;\n`)\n.withHeaders(&#x27;Content-Type&#x27;, &#x27;text/xml&#x27;)\n.withHeaders(&#x27;Connection&#x27;, &#x27;keep-alive&#x27;)\n.withHeaders(&#x27;Accept&#x27;, &#x27;*/*&#x27;)\n.withHeaders(&#x27;cookie&#x27;, Cookie)\n.expectStatus(200)\n.expectBodyContains(&#x27;Login success=\\\&quot;true\\\&quot;&#x27;)\nlet xml = response.body\nxml2js.parseString(xml,(err, result)=&gt; {\n  if (err){\n      throw err\n  }\n  let userID = (result.Response.Login[0].UserID[0])\n // console.log(result.Response.Login[0]); //JSON BODY\n  console.log(userID);\n  console.log(response.statusCode)\n  console.log(response.body) //XML BODY\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f38a869-51b9-410e-a685-a23626ee0ce1&quot;,&quot;parentUUID&quot;:&quot;00f13e9f-3e82-46b1-a149-bfffcd87fdcc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;WH- SetChatName&quot;,&quot;fullTitle&quot;:&quot;LOGIN/SETPLATFROM/REG CHATNAME/GET BALANCE WH- SetChatName&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:662,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var response = await pactum.spec()\n .post(&#x27;https://auto-williamhill.virtuefusion.com/igames/sec/mob/gamerequest?cid=&#x27;)\n// .post(process.env.WH_BaseUrl)\n .withBody (`&lt;Request&gt;\n      &lt;SetDisplayName displayName=\&quot;${user}\&quot;/&gt;\n      &lt;/Request&gt;`)\n.withHeaders(&#x27;Content-Type&#x27;, &#x27;text/xml&#x27;)\n.withHeaders(&#x27;Connection&#x27;, &#x27;keep-alive&#x27;)\n.withHeaders(&#x27;Accept&#x27;, &#x27;*/*&#x27;)\n.withHeaders(&#x27;cookie&#x27;, Cookie)\n.expectStatus(200)\n.expectBodyContains(&#x27;SetDisplayName success=\\\&quot;true\\\&quot;&#x27;)\nconsole.log(response.body) //XML BODY\nlet xml = response.body\nxml2js.parseString(xml,(err, result)=&gt; {\nif (err)\n{\n      throw err\n  }\n  console.log(result.Response.SetDisplayName[0].$.success); //JSON BODY\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9988d475-9c61-4b27-851a-c78a6d9bcb50&quot;,&quot;parentUUID&quot;:&quot;00f13e9f-3e82-46b1-a149-bfffcd87fdcc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GetBalance&quot;,&quot;fullTitle&quot;:&quot;LOGIN/SETPLATFROM/REG CHATNAME/GET BALANCE GetBalance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var response = await pactum.spec()\n.post(&#x27;https://auto-williamhill.virtuefusion.com/igames/sec/mob/gamerequest?cid=&#x27;)\n//.post(process.env.WH_BaseUrl)\n.withBody(`&lt;Request&gt;\n&lt;GetBalance/&gt;\n&lt;/Request&gt;`)\n.withHeaders(&#x27;Content-Type&#x27;, &#x27;text/xml&#x27;)\n.withHeaders(&#x27;Connection&#x27;, &#x27;keep-alive&#x27;)\n.withHeaders(&#x27;Accept&#x27;, &#x27;*/*&#x27;)\n.withHeaders(&#x27;cookie&#x27;, Cookie)\n.expectStatus(200)\n.expectBodyContains(&#x27;GetBalance success=\&quot;true\&quot;&#x27;)\nconsole.log(response.body) //XML BODY\nlet xml = response.body\nxml2js.parseString(xml,(err, result)=&gt; {\n  if (err){\n      throw err\n  }\n   CashBalance = (result.Response.GetBalance[0].Balances[0].Balance[0].$.amount);\n  console.log(result.Response.GetBalance[0].Balances[0].Balance[0].$.amount); //JSON BODY\n})&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;025587c0-dc73-4da8-95eb-a82d9b710dcb&quot;,&quot;parentUUID&quot;:&quot;00f13e9f-3e82-46b1-a149-bfffcd87fdcc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9aeed0bb-9a13-42b7-ad11-3f05fc7d3bdd&quot;,&quot;8f38a869-51b9-410e-a685-a23626ee0ce1&quot;,&quot;9988d475-9c61-4b27-851a-c78a6d9bcb50&quot;,&quot;025587c0-dc73-4da8-95eb-a82d9b710dcb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3126,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;21ee3447-0b41-4017-bbfa-7130e4e1dbb3&quot;,&quot;title&quot;:&quot;DATABASE CONNECTION AND UPDATE THE USER BALANCE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\himanshu.patel\\OneDrive - Playtech\\Desktop\\DataBase\\test\\UpdateUserBalance.js&quot;,&quot;file&quot;:&quot;\\test\\UpdateUserBalance.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Update user balance&quot;,&quot;fullTitle&quot;:&quot;DATABASE CONNECTION AND UPDATE THE USER BALANCE Update user balance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;oracledb.outFormat = oracledb.OUT_FORMAT_OBJECT;\ntry {\n    oracledb.initOracleClient({libDir: &#x27;C:\\\\Users\\\\himanshu.patel\\\\Downloads\\\\instantclient_21_9&#x27;});\n} catch (err) {console.error(&#x27;Whoops!&#x27;); console.error(err); process.exit(1); }\nconst mypw = \&quot;AUTO_2320\&quot;// set password\nasync function run() {\nlet connection;\ntry { connection = await\noracledb.getConnection( { user: \&quot;AUTO_2320\&quot;, password : mypw,\nconnectString : \&quot;slodb02.slo.bingo.ptec/slodev2\&quot; });\n    \nresult = await connection.execute (`UPDATE VF_INT_DUMMY_PLAYER SET CASH_BALANCE = 0 WHERE USER_NAME = &#x27;${user}&#x27;`)\nawait connection.commit();\nconsole.log(result);\nconsole.log( `UPDATE VF_INT_DUMMY_PLAYER SET CASH_BALANCE = 0 WHERE USER_NAME = &#x27;${user}&#x27;`);\n//console.log(result.row);\n   }\n  catch (err) { console.error(err); } finally { if (connection) { \n  try { await connection.close(); } catch (err) { console.error(err); } } }}\n  run();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53c2946c-0b40-4064-adf4-d151866f7228&quot;,&quot;parentUUID&quot;:&quot;21ee3447-0b41-4017-bbfa-7130e4e1dbb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;53c2946c-0b40-4064-adf4-d151866f7228&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000},{&quot;uuid&quot;:&quot;32bc0370-e9a8-41d7-823b-ae240265a354&quot;,&quot;title&quot;:&quot;UPDATED USER BALANCE/ASSERT/LOGOUT&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\himanshu.patel\\OneDrive - Playtech\\Desktop\\DataBase\\test\\UpdateUserBalance.js&quot;,&quot;file&quot;:&quot;\\test\\UpdateUserBalance.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;pause the test for 1 second&quot;,&quot;fullTitle&quot;:&quot;UPDATED USER BALANCE/ASSERT/LOGOUT pause the test for 1 second&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1001,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setTimeout(function(){\n done();\n }, 1000);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;938d3582-4046-4ad2-a2c4-af1df5b49017&quot;,&quot;parentUUID&quot;:&quot;32bc0370-e9a8-41d7-823b-ae240265a354&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Updated Balance&quot;,&quot;fullTitle&quot;:&quot;UPDATED USER BALANCE/ASSERT/LOGOUT Updated Balance&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var response = await pactum.spec()\n   .post(&#x27;https://auto-williamhill.virtuefusion.com/igames/sec/mob/gamerequest?cid=&#x27;)\n   //.post(process.env.WH_BaseUrl)\n   .withBody(`&lt;Request&gt;\n   &lt;GetBalance gameType=\&quot;Bingo\&quot;/&gt;\n   &lt;/Request&gt;\n   `)\n   .withHeaders(&#x27;Content-Type&#x27;, &#x27;text/xml&#x27;)\n   .withHeaders(&#x27;Connection&#x27;, &#x27;keep-alive&#x27;)\n   .withHeaders(&#x27;Accept&#x27;, &#x27;*/*&#x27;)\n   .withHeaders(&#x27;cookie&#x27;, Cookie)\n   .expectStatus(200)\n   console.log(response.body) //XML BODY\n   let xml = response.body\n   xml2js.parseString(xml,(err, result)=&gt; {\n         if (err){\n         throw err}\n     UpadatedCashBalance = (result.Response.GetBalance[0].Balances[0].Balance[0].$.amount);\n     console.log(result.Response.GetBalance[0].Balances[0].Balance[0].$.amount); //JSON BODY\n     assert.notEqual(CashBalance,UpadatedCashBalance);\n     assert.equal(UpadatedCashBalance, 0);\n })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;974f5937-c6ca-49e2-a511-8fd66d3728a5&quot;,&quot;parentUUID&quot;:&quot;32bc0370-e9a8-41d7-823b-ae240265a354&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;LogOut&quot;,&quot;fullTitle&quot;:&quot;UPDATED USER BALANCE/ASSERT/LOGOUT LogOut&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var response = await pactum.spec()\n.post(&#x27;https://auto-williamhill.virtuefusion.com/igames/sec/mob/gamerequest?cid=&#x27;)\n//.post(process.env.WH_BaseUrl)\n.withBody(`&lt;Request&gt;\n&lt;Logout/&gt;\n&lt;/Request&gt;`)\n.withHeaders(&#x27;Content-Type&#x27;, &#x27;text/xml&#x27;)\n.withHeaders(&#x27;Connection&#x27;, &#x27;keep-alive&#x27;)\n.withHeaders(&#x27;Accept&#x27;, &#x27;*/*&#x27;)\n//.withHeaders(&#x27;cookie&#x27;, Cookie)\n.expectStatus(200)\n\n.expectBodyContains(&#x27;Logout success=\\\&quot;true\\\&quot;/&#x27;)\nconsole.log(response.body) //XML BODY&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d60bf465-4089-4316-b1c7-8c943cefb4fb&quot;,&quot;parentUUID&quot;:&quot;32bc0370-e9a8-41d7-823b-ae240265a354&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;938d3582-4046-4ad2-a2c4-af1df5b49017&quot;,&quot;974f5937-c6ca-49e2-a511-8fd66d3728a5&quot;,&quot;d60bf465-4089-4316-b1c7-8c943cefb4fb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2121,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:300000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:300000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;API-DB&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;TestReport&quot;,&quot;reportFilename&quot;:&quot;API-DB&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;API-DB&quot;,&quot;reportDir&quot;:&quot;TestReport&quot;,&quot;reportTitle&quot;:&quot;DataBase&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;TestReport\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\himanshu.patel\\OneDrive - Playtech\\Desktop\\DataBase\\TestReport\\API-DB.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\himanshu.patel\\OneDrive - Playtech\\Desktop\\DataBase\\TestReport\\API-DB.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>